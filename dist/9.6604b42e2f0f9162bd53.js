(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"09gq":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("6N4C"),r=n("hO+4");e.default=function(){function t(t){this.heap=new r.default(o.reverseCompareFunction(t))}return t.prototype.enqueue=function(t){return this.heap.add(t)},t.prototype.add=function(t){return this.heap.add(t)},t.prototype.dequeue=function(){if(0!==this.heap.size()){var t=this.heap.peek();return this.heap.removeRoot(),t}},t.prototype.peek=function(){return this.heap.peek()},t.prototype.contains=function(t){return this.heap.contains(t)},t.prototype.isEmpty=function(){return this.heap.isEmpty()},t.prototype.size=function(){return this.heap.size()},t.prototype.clear=function(){this.heap.clear()},t.prototype.forEach=function(t){this.heap.forEach(t)},t}()},"6N4C":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=Object.prototype.hasOwnProperty;function r(t){return"function"==typeof t}function i(t){return void 0===t}function l(t){return"[object String]"===Object.prototype.toString.call(t)}e.has=function(t,e){return o.call(t,e)},e.defaultCompare=function(t,e){return t<e?-1:t===e?0:1},e.defaultEquals=function(t,e){return t===e},e.defaultToString=function(t){return null===t?"COLLECTION_NULL":i(t)?"COLLECTION_UNDEFINED":l(t)?"$s"+t:"$o"+t.toString()},e.makeString=function(t,n){if(void 0===n&&(n=","),null===t)return"COLLECTION_NULL";if(i(t))return"COLLECTION_UNDEFINED";if(l(t))return t.toString();var o="{",r=!0;for(var s in t)e.has(t,s)&&(r?r=!1:o+=n,o=o+s+":"+t[s]);return o+"}"},e.isFunction=r,e.isUndefined=i,e.isString=l,e.reverseCompareFunction=function(t){return i(t)||!r(t)?function(t,e){return t<e?1:t===e?0:-1}:function(e,n){return-1*t(e,n)}},e.compareToEquals=function(t){return function(e,n){return 0===t(e,n)}}},"8F6/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("6N4C"),r=n("Evez"),i=n("fxrp");e.default=function(){function t(t){this.dictionary=new i.default(t)}return t.prototype.contains=function(t){return this.dictionary.containsKey(t)},t.prototype.add=function(t){return!this.contains(t)&&!o.isUndefined(t)&&(this.dictionary.setValue(t,t),!0)},t.prototype.intersection=function(t){var e=this;this.forEach(function(n){return t.contains(n)||e.remove(n),!0})},t.prototype.union=function(t){var e=this;t.forEach(function(t){return e.add(t),!0})},t.prototype.difference=function(t){var e=this;t.forEach(function(t){return e.remove(t),!0})},t.prototype.isSubsetOf=function(t){if(this.size()>t.size())return!1;var e=!0;return this.forEach(function(n){return!!t.contains(n)||(e=!1,!1)}),e},t.prototype.remove=function(t){return!!this.contains(t)&&(this.dictionary.remove(t),!0)},t.prototype.forEach=function(t){this.dictionary.forEach(function(e,n){return t(n)})},t.prototype.toArray=function(){return this.dictionary.values()},t.prototype.isEmpty=function(){return this.dictionary.isEmpty()},t.prototype.size=function(){return this.dictionary.size()},t.prototype.clear=function(){this.dictionary.clear()},t.prototype.toString=function(){return r.toString(this.toArray())},t}()},Evez:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("6N4C");function r(t,e,n){for(var r=n||o.defaultEquals,i=t.length,l=0;l<i;l++)if(r(t[l],e))return l;return-1}e.indexOf=r,e.lastIndexOf=function(t,e,n){for(var r=n||o.defaultEquals,i=t.length-1;i>=0;i--)if(r(t[i],e))return i;return-1},e.contains=function(t,e,n){return r(t,e,n)>=0},e.remove=function(t,e,n){var o=r(t,e,n);return!(o<0||(t.splice(o,1),0))},e.frequency=function(t,e,n){for(var r=n||o.defaultEquals,i=t.length,l=0,s=0;s<i;s++)r(t[s],e)&&l++;return l},e.equals=function(t,e,n){var r=n||o.defaultEquals;if(t.length!==e.length)return!1;for(var i=t.length,l=0;l<i;l++)if(!r(t[l],e[l]))return!1;return!0},e.copy=function(t){return t.concat()},e.swap=function(t,e,n){if(e<0||e>=t.length||n<0||n>=t.length)return!1;var o=t[e];return t[e]=t[n],t[n]=o,!0},e.toString=function(t){return"["+t.toString()+"]"},e.forEach=function(t,e){for(var n=0,o=t;n<o.length;n++)if(!1===e(o[n]))return}},Mflo:function(t,e,n){"use strict";n.r(e);var o=n("CcnG"),r=function(){},i=n("pMnS"),l=function(){function t(){}return t.prototype.ngOnInit=function(){console.log("loading: "+this.show)},t}(),s=o["\u0275crt"]({encapsulation:0,styles:[[".sk-circle[_ngcontent-%COMP%]{margin:100px auto;width:40px;height:40px;position:relative}.sk-circle[_ngcontent-%COMP%]   .sk-child[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0}.sk-circle[_ngcontent-%COMP%]   .sk-child[_ngcontent-%COMP%]:before{content:'';display:block;margin:0 auto;width:15%;height:15%;background-color:#333;border-radius:100%;-webkit-animation:1.2s ease-in-out infinite both sk-circleBounceDelay;animation:1.2s ease-in-out infinite both sk-circleBounceDelay}.sk-circle[_ngcontent-%COMP%]   .sk-circle2[_ngcontent-%COMP%]{-webkit-transform:rotate(30deg);transform:rotate(30deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle3[_ngcontent-%COMP%]{-webkit-transform:rotate(60deg);transform:rotate(60deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle4[_ngcontent-%COMP%]{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle5[_ngcontent-%COMP%]{-webkit-transform:rotate(120deg);transform:rotate(120deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle6[_ngcontent-%COMP%]{-webkit-transform:rotate(150deg);transform:rotate(150deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle7[_ngcontent-%COMP%]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle8[_ngcontent-%COMP%]{-webkit-transform:rotate(210deg);transform:rotate(210deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle9[_ngcontent-%COMP%]{-webkit-transform:rotate(240deg);transform:rotate(240deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle10[_ngcontent-%COMP%]{-webkit-transform:rotate(270deg);transform:rotate(270deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle11[_ngcontent-%COMP%]{-webkit-transform:rotate(300deg);transform:rotate(300deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle12[_ngcontent-%COMP%]{-webkit-transform:rotate(330deg);transform:rotate(330deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle2[_ngcontent-%COMP%]:before{-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.sk-circle[_ngcontent-%COMP%]   .sk-circle3[_ngcontent-%COMP%]:before{-webkit-animation-delay:-1s;animation-delay:-1s}.sk-circle[_ngcontent-%COMP%]   .sk-circle4[_ngcontent-%COMP%]:before{-webkit-animation-delay:-.9s;animation-delay:-.9s}.sk-circle[_ngcontent-%COMP%]   .sk-circle5[_ngcontent-%COMP%]:before{-webkit-animation-delay:-.8s;animation-delay:-.8s}.sk-circle[_ngcontent-%COMP%]   .sk-circle6[_ngcontent-%COMP%]:before{-webkit-animation-delay:-.7s;animation-delay:-.7s}.sk-circle[_ngcontent-%COMP%]   .sk-circle7[_ngcontent-%COMP%]:before{-webkit-animation-delay:-.6s;animation-delay:-.6s}.sk-circle[_ngcontent-%COMP%]   .sk-circle8[_ngcontent-%COMP%]:before{-webkit-animation-delay:-.5s;animation-delay:-.5s}.sk-circle[_ngcontent-%COMP%]   .sk-circle9[_ngcontent-%COMP%]:before{-webkit-animation-delay:-.4s;animation-delay:-.4s}.sk-circle[_ngcontent-%COMP%]   .sk-circle10[_ngcontent-%COMP%]:before{-webkit-animation-delay:-.3s;animation-delay:-.3s}.sk-circle[_ngcontent-%COMP%]   .sk-circle11[_ngcontent-%COMP%]:before{-webkit-animation-delay:-.2s;animation-delay:-.2s}.sk-circle[_ngcontent-%COMP%]   .sk-circle12[_ngcontent-%COMP%]:before{-webkit-animation-delay:-.1s;animation-delay:-.1s}@-webkit-keyframes sk-circleBounceDelay{0%,100%,80%{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes sk-circleBounceDelay{0%,100%,80%{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}"]],data:{}});function a(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,12,"div",[["class","sk-circle"]],null,null,null,null,null)),(t()(),o["\u0275eld"](1,0,null,null,0,"div",[["class","sk-circle1 sk-child"]],null,null,null,null,null)),(t()(),o["\u0275eld"](2,0,null,null,0,"div",[["class","sk-circle2 sk-child"]],null,null,null,null,null)),(t()(),o["\u0275eld"](3,0,null,null,0,"div",[["class","sk-circle3 sk-child"]],null,null,null,null,null)),(t()(),o["\u0275eld"](4,0,null,null,0,"div",[["class","sk-circle4 sk-child"]],null,null,null,null,null)),(t()(),o["\u0275eld"](5,0,null,null,0,"div",[["class","sk-circle5 sk-child"]],null,null,null,null,null)),(t()(),o["\u0275eld"](6,0,null,null,0,"div",[["class","sk-circle6 sk-child"]],null,null,null,null,null)),(t()(),o["\u0275eld"](7,0,null,null,0,"div",[["class","sk-circle7 sk-child"]],null,null,null,null,null)),(t()(),o["\u0275eld"](8,0,null,null,0,"div",[["class","sk-circle8 sk-child"]],null,null,null,null,null)),(t()(),o["\u0275eld"](9,0,null,null,0,"div",[["class","sk-circle9 sk-child"]],null,null,null,null,null)),(t()(),o["\u0275eld"](10,0,null,null,0,"div",[["class","sk-circle10 sk-child"]],null,null,null,null,null)),(t()(),o["\u0275eld"](11,0,null,null,0,"div",[["class","sk-circle11 sk-child"]],null,null,null,null,null)),(t()(),o["\u0275eld"](12,0,null,null,0,"div",[["class","sk-circle12 sk-child"]],null,null,null,null,null))],null,null)}var u=n("rMXk"),c=n("3zLz"),d=n("gIcY"),h=n("Ip0R"),f=n("6blF"),p=function(){function t(){}return t.prototype.createQuerystring=function(t){if(0===t.length)return"";for(var e="?",n=0,o=0,r=t;o<r.length;o++)r[o].value&&(n>0&&(e+="&"),e+=t[n].name,e+="=",e+=t[n].value,n++);return e},t}(),v=function(t,e){this.name=t,this.value=e},y=function(){function t(t,e){this.http=t,this.qsb=e,this.dataSourceUrl="http://iotsensordata.azurewebsites.net/api/SensorData/",this.dataSourcesUrl="http://iotsensordata.azurewebsites.net/api/DataSource/"}return t.prototype.getData=function(t,e,n){var o=this.dataSourceUrl.concat(t);console.debug("in call van: "+e+", tot: "+n);var r=[];return e&&r.push(new v("van",e)),n&&r.push(new v("tot",n)),o+=this.qsb.createQuerystring(r),console.debug("url: "+o),this.http.get(o)},t.prototype.getDataSources=function(t){return this.http.get(this.dataSourcesUrl+"?channel="+t)},t.prototype.handleError=function(t){return console.error(t),f.a.throw(t.json()||"Server error")},t}(),g=n("t/Na"),m=function(){function t(t){this.sensorDataService=t,this.selectedDataSourceChange=new o.EventEmitter}return t.prototype.ngOnInit=function(){var t=this;this.sensorDataService.getDataSources(this.channel).subscribe(function(e){t.dataSources=e,t.dataSources.length>0&&t.selectedDataSourceChange.emit(t.dataSources[0])},function(t){},function(){console.log("getDataSources finished"),console.debug("datasources: "+t.dataSources.length),console.debug("datasources: channel: "+t.channel)})},t.prototype.dataSourceChanged=function(t){var e=this.getDatasource(t.target.value);this.selectedDataSourceChange.emit(e)},t.prototype.getDatasource=function(t){for(var e=0,n=this.dataSources;e<n.length;e++){var o=n[e];if(o.DeviceId===t)return o}return null},t}(),C=o["\u0275crt"]({encapsulation:2,styles:[],data:{}});function b(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),o["\u0275did"](1,147456,null,0,d.o,[o.ElementRef,o.Renderer2,[8,null]],{value:[0,"value"]},null),o["\u0275did"](2,147456,null,0,d.v,[o.ElementRef,o.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),o["\u0275ted"](3,null,[""," : ",""]))],function(t,e){t(e,1,0,o["\u0275inlineInterpolate"](1,"",e.context.$implicit.DeviceId,"")),t(e,2,0,o["\u0275inlineInterpolate"](1,"",e.context.$implicit.DeviceId,""))},function(t,e){t(e,3,0,e.context.$implicit.DeviceId,e.context.$implicit.Description)})}function k(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,2,"select",[["class","form-control"]],null,[[null,"change"]],function(t,e,n){var o=!0;return"change"===e&&(o=!1!==t.component.dataSourceChanged(n)&&o),o},null,null)),(t()(),o["\u0275and"](16777216,null,null,1,null,b)),o["\u0275did"](2,802816,null,0,h.l,[o.ViewContainerRef,o.TemplateRef,o.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.dataSources)},null)}var I=n("wd/R"),E=I,S=function(){function t(t,e){this.cdRef=t,this.ngZone=e}return t.prototype.transform=function(t,e){return this.hasChanged(t,e)?(this.lastTime=this.getTime(t),this.lastValue=t,this.lastOmitSuffix=e,this.lastLocale=this.getLocale(t),this.removeTimer(),this.createTimer(),this.lastText=E(t).from(E(),e)):this.createTimer(),this.lastText},t.prototype.ngOnDestroy=function(){this.removeTimer()},t.prototype.createTimer=function(){var t=this;if(!this.currentTimer){var e=E(this.lastValue),n=1e3*this.getSecondsUntilUpdate(e);this.currentTimer=this.ngZone.runOutsideAngular(function(){if("undefined"!=typeof window)return window.setTimeout(function(){t.lastText=E(t.lastValue).from(E(),t.lastOmitSuffix),t.currentTimer=null,t.ngZone.run(function(){return t.cdRef.markForCheck()})},n)})}},t.prototype.removeTimer=function(){this.currentTimer&&(window.clearTimeout(this.currentTimer),this.currentTimer=null)},t.prototype.getSecondsUntilUpdate=function(t){var e=Math.abs(E().diff(t,"minute"));return e<1?1:e<60?30:e<180?300:3600},t.prototype.hasChanged=function(t,e){return this.getTime(t)!==this.lastTime||this.getLocale(t)!==this.lastLocale||e!==this.lastOmitSuffix},t.prototype.getTime=function(t){return Object(I.isDate)(t)?t.getTime():Object(I.isMoment)(t)?t.valueOf():E(t).valueOf()},t.prototype.getLocale=function(t){return Object(I.isMoment)(t)?t.locale():null},t}(),D=function(){},N=n("AytR"),x=function(){function t(t,e){this.http=t,this.qsb=e,this.host=N.a.services.sensorDataService.host,this.baseUrl=N.a.services.sensorDataService.baseUrl}return t.prototype.getNewDataSources=function(){return this.http.get(""+this.host+this.baseUrl+"/DataSource/NewDatasources")},t.prototype.getDataSources=function(t){return this.http.get(""+this.host+this.baseUrl+"/DataSource/?channel="+t)},t.prototype.getAllDataSources=function(){return this.http.get(""+this.host+this.baseUrl+"/DataSource/")},t.prototype.addDatasource=function(t){console.debug("Posting data");var e=""+this.host+this.baseUrl+"/DataSource/",n=new g.g({"Content-Type":"application/json"});return this.http.post(e,t,{headers:n})},t.prototype.updateDatasource=function(t){console.debug("Putting data");var e=""+this.host+this.baseUrl+"/DataSource/"+t.Id,n=new g.g({"Content-Type":"application/json"});return this.http.put(e,t,{headers:n})},t.prototype.deleteDatasource=function(t){console.debug("Deleting datasource");var e=""+this.host+this.baseUrl+"/DataSource/"+t,n=new g.g({"Content-Type":"application/json"});return this.http.delete(e,{headers:n})},t.prototype.handleError=function(t){return console.error(t),f.a.throw(t||"Server error")},t.prototype.getDataSourceTypes=function(){return this.http.get(""+this.host+this.baseUrl+"/DataTypes")},t}(),O=function(){function t(t){this.http=t,this.host="https://iotsensordata.azurewebsites.net"}return t.prototype.get=function(){var t=this.host+"/api/DataTypes";return console.debug("url: "+t),this.http.get(t)},t.prototype.getById=function(t){var e=this.host+"/api/DataTypes/"+t;return console.debug("url: "+e),this.http.get(e)},t.prototype.create=function(t){var e=this.host+"/api/DataTypes/";console.log("Posting data to "+e);var n=new g.g({"Content-Type":"application/json; charset=utf-8"});return this.http.post(e,t,{headers:n})},t.prototype.handleError=function(t){return console.error(t),f.a.throw(t||"Server error")},t}(),T=function(){function t(t,e){this.http=t,this.qsb=e,this.calls=[],this.sensorDataUrl="https://iotsensordata.azurewebsites.net/api/SensorData/"}return t.prototype.sleep=function(t){return new Promise(function(e){return setTimeout(e,t)})},t.prototype.getData=function(t,e,n,o){void 0===o&&(o=!1);var r=this.sensorDataUrl.concat(t);console.debug("in call van: "+e+", tot: "+n);for(var i=0;i<1e5;)i++;var l,s=[];if(e&&s.push(new v("van",e)),n&&s.push(new v("tot",n)),r+=this.qsb.createQuerystring(s),!o)for(var a=0;a<this.calls.length;a++){var u=this.calls[a];if(u.key===r){console.debug("Cache hit: "+u.key),l=u.value;break}}return l||(console.debug("url: "+r),l=this.http.get(r),this.calls.push({key:r,value:l})),l},t.prototype.getMostRecent=function(t){var e=this.sensorDataUrl.concat(t).concat("/MostRecent");return this.http.get(e)},t.prototype.handleError=function(t){return console.error(t),f.a.throw(t||"Server error")},t}(),_=n("isRC"),w=function(){function t(){this.lineChartData=[],this.lineChartLabels=[],this.lineChartOptions={responsive:!0,scales:{yAxes:[{display:!0,ticks:{beginAtZero:!0}}]}},this.lineChartColors=[{backgroundColor:"rgba(148,159,177,0.2)",borderColor:"rgba(148,159,177,1)",pointBackgroundColor:"rgba(148,159,177,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(148,159,177,0.8)"},{backgroundColor:"rgba(77,83,96,0.2)",borderColor:"rgba(77,83,96,1)",pointBackgroundColor:"rgba(77,83,96,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(77,83,96,1)"},{backgroundColor:"rgba(148,159,177,0.2)",borderColor:"rgba(148,159,177,1)",pointBackgroundColor:"rgba(148,159,177,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(148,159,177,0.8)"}],this.lineChartLegend=!0,this.lineChartType="line"}return t.prototype.ngOnInit=function(){this.lineChartData.push(new function(t,e){this.label=t,this.data=e}(this.feed,this.values))},t.prototype.chartClicked=function(t){console.log(t)},t.prototype.chartHovered=function(t){console.log(t)},t}(),A=function(){function t(t,e,n,o,r){this.datasourceService=t,this.sensorDataService=e,this.activatedRoute=n,this.componentFactoryResolver=o,this.dataTypeService=r,this.chartLabels=[]}return t.prototype.ngOnInit=function(){var t=this;this.activatedRoute.params.subscribe(function(e){t.channel=e.id,t.loadDatasources()})},t.prototype.dataSourceChanged=function(t){this.dataSource=t,this.loadCharts(!1)},t.prototype.loadDatasources=function(){var t=this;this.datasourceService.getDataSources(this.channel).subscribe(function(e){t.dataSources=e,t.dataSources.length>0&&(t.dataSource=t.dataSources[0],t.loadCharts(!1))},function(t){},function(){})},t.prototype.loadCharts=function(t){var e,n=this;console.debug("voor call: startDate: "+this.startDate+", endDate: "+this.endDate),this.loading=!0,this.sensorDataService.getMostRecent(this.dataSource.DeviceId).subscribe(function(t){n.lastData=t.TimeStamp.toString()}),this.dataTypeService.getById(this.dataSource.DataTypeId).subscribe(function(o){e=o.Properties.split(","),n.busy=n.sensorDataService.getData(n.dataSource.DeviceId,n.startDate,n.endDate,t).subscribe(function(t){for(var o=new _.Dictionary,r=0,i=e;r<i.length;r++)o.setValue(g=i[r],[]);for(var l=[],s=0,a=t;s<a.length;s++){for(var u=a[s],c=JSON.parse(u.Payload),d=0,h=e;d<h.length;d++){var f=o.getValue(g=h[d]);c.hasOwnProperty(g)?f.push(c[g]):f.push(0)}l.push(u.TimeStamp)}n.chartLabels=l;var p=n.componentFactoryResolver.resolveComponentFactory(w);n.dataContainer.clear();for(var v=0,y=e;v<y.length;v++){var g;f=o.getValue(g=y[v]),n.AddGraph(p,g,f,l)}n.loading=!1},function(t){return null},function(){console.log("channel data loaded"),n.loading=!1})})},t.prototype.dataTab=function(){},t.prototype.metadataTab=function(){},t.prototype.AddGraph=function(t,e,n,o){var r=this.dataContainer.createComponent(t).instance;r.feed=e,r.values=n,r.lineChartLabels=o},t.prototype.refresh=function(){this.loading=!0,this.loadCharts(!0)},t}(),P=n("ZYCi"),M=o["\u0275crt"]({encapsulation:0,styles:[[""]],data:{animation:[{type:7,name:"routerTransition",definitions:[{type:0,name:"void",styles:{type:6,styles:{},offset:null},options:void 0},{type:0,name:"*",styles:{type:6,styles:{},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:6,styles:{transform:"translateY(100%)"},offset:null},{type:4,styles:{type:6,styles:{transform:"translateY(0%)"},offset:null},timings:"0.5s ease-in-out"}],options:null},{type:1,expr:":leave",animation:[{type:6,styles:{transform:"translateY(0%)"},offset:null},{type:4,styles:{type:6,styles:{transform:"translateY(-100%)"},offset:null},timings:"0.5s ease-in-out"}],options:null}],options:{}}]}});function R(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["Loading "])),(t()(),o["\u0275eld"](2,0,null,null,1,"app-loading-spinner",[],null,[[null,"showChange"]],function(t,e,n){var o=!0;return"showChange"===e&&(o=!1!==(t.component.loading=n)&&o),o},a,s)),o["\u0275did"](3,114688,null,0,l,[],{show:[0,"show"]},null)],function(t,e){t(e,3,0,e.component.loading)},null)}function U(t){return o["\u0275vid"](0,[o["\u0275qud"](402653184,1,{dataContainer:0}),o["\u0275qud"](402653184,2,{metadataContainer:0}),(t()(),o["\u0275eld"](2,0,null,null,37,"div",[],[[24,"@routerTransition",0]],null,null,null,null)),(t()(),o["\u0275eld"](3,0,null,null,1,"app-page-header",[],null,null,null,u.b,u.a)),o["\u0275did"](4,114688,null,0,c.a,[],{heading:[0,"heading"],icon:[1,"icon"]},null),(t()(),o["\u0275eld"](5,0,null,null,11,"div",[["class","panel-body"]],null,null,null,null,null)),(t()(),o["\u0275eld"](6,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(t()(),o["\u0275eld"](7,0,null,null,3,"div",[["class","col-md-3"]],null,null,null,null,null)),(t()(),o["\u0275eld"](8,0,null,null,2,"dataSourceSelector",[],null,[[null,"dataSourceChange"]],function(t,e,n){var o=!0;return"dataSourceChange"===e&&(o=!1!==t.component.dataSourceChanged(n)&&o),o},k,C)),o["\u0275prd"](512,null,y,y,[g.c,p]),o["\u0275did"](10,114688,null,0,m,[y],{channel:[0,"channel"],dataSources:[1,"dataSources"]},{selectedDataSourceChange:"dataSourceChange"}),(t()(),o["\u0275eld"](11,0,null,null,0,"div",[["class","col-md-3"]],null,null,null,null,null)),(t()(),o["\u0275eld"](12,0,null,null,0,"div",[["class","col-md-3"]],null,null,null,null,null)),(t()(),o["\u0275eld"](13,0,null,null,3,"div",[["class","col-md-3"]],null,null,null,null,null)),(t()(),o["\u0275eld"](14,0,null,null,2,"button",[["class","btn btn-default btn-sm"],["type","button"]],null,[[null,"click"]],function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.component.refresh()&&o),o},null,null)),(t()(),o["\u0275eld"](15,0,null,null,0,"span",[["class","glyphicon glyphicon-refresh"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,[" Refresh "])),(t()(),o["\u0275eld"](17,0,null,null,22,"div",[["class","row"]],null,null,null,null,null)),(t()(),o["\u0275eld"](18,0,null,null,21,"div",[["class","col col-md12"]],null,null,null,null,null)),(t()(),o["\u0275eld"](19,0,null,null,20,"div",[["class","card mb-3"]],null,null,null,null,null)),(t()(),o["\u0275eld"](20,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,[" Line Chart "])),(t()(),o["\u0275eld"](22,0,null,null,14,"div",[["class","panel-body"]],null,null,null,null,null)),(t()(),o["\u0275eld"](23,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,[" Last data received: "])),(t()(),o["\u0275eld"](25,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),o["\u0275ted"](26,null,[""," "])),o["\u0275pid"](131072,S,[o.ChangeDetectorRef,o.NgZone]),(t()(),o["\u0275eld"](28,0,null,null,6,"ul",[["class","nav nav-tabs"]],null,null,null,null,null)),(t()(),o["\u0275eld"](29,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),o["\u0275eld"](30,0,null,null,1,"a",[["class","nav-link active"]],null,[[null,"click"]],function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.component.dataTab()&&o),o},null,null)),(t()(),o["\u0275ted"](-1,null,["Data"])),(t()(),o["\u0275eld"](32,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),o["\u0275eld"](33,0,null,null,1,"a",[["class","nav-link"]],null,[[null,"click"]],function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.component.metadataTab()&&o),o},null,null)),(t()(),o["\u0275ted"](-1,null,["Metadata"])),(t()(),o["\u0275eld"](35,16777216,[[1,3],["dataCharts",1]],null,0,"div",[],null,null,null,null,null)),(t()(),o["\u0275eld"](36,16777216,[[2,3],["metadataCharts",1]],null,0,"div",[],null,null,null,null,null)),(t()(),o["\u0275eld"](37,0,null,null,2,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),o["\u0275and"](16777216,null,null,1,null,R)),o["\u0275did"](39,16384,null,0,h.m,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,4,0,"Charts","fa-bar-chart-o"),t(e,10,0,n.channel,n.dataSources),t(e,39,0,n.loading)},function(t,e){var n=e.component;t(e,2,0,void 0),t(e,26,0,o["\u0275unv"](e,26,0,o["\u0275nov"](e,27).transform(n.lastData)))})}var F=o["\u0275ccf"]("app-channeldata",A,function(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,"app-channeldata",[],null,null,null,U,M)),o["\u0275did"](1,114688,null,0,A,[x,T,P.a,o.ComponentFactoryResolver,O],null,null)],function(t,e){t(e,1,0)},null)},{channel:"channel"},{},[]),q=n("xdbM"),L=o["\u0275crt"]({encapsulation:2,styles:[],data:{}});function V(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,2,"div",[["style","display: block;"]],null,null,null,null,null)),(t()(),o["\u0275eld"](1,0,null,null,1,"canvas",[["baseChart",""]],null,[[null,"chartHover"],[null,"chartClick"]],function(t,e,n){var o=!0,r=t.component;return"chartHover"===e&&(o=!1!==r.chartHovered(n)&&o),"chartClick"===e&&(o=!1!==r.chartClicked(n)&&o),o},null,null)),o["\u0275did"](2,737280,null,0,q.BaseChartDirective,[o.ElementRef],{datasets:[0,"datasets"],labels:[1,"labels"],options:[2,"options"],chartType:[3,"chartType"],colors:[4,"colors"],legend:[5,"legend"]},{chartClick:"chartClick",chartHover:"chartHover"})],function(t,e){var n=e.component;t(e,2,0,n.lineChartData,n.lineChartLabels,n.lineChartOptions,n.lineChartType,n.lineChartColors,n.lineChartLegend)},null)}var j=o["\u0275ccf"]("sensorDataChart",w,function(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,"sensorDataChart",[],null,null,null,V,L)),o["\u0275did"](1,114688,null,0,w,[],null,null)],function(t,e){t(e,1,0)},null)},{values:"values",feed:"feed",lineChartData:"lineChartData",lineChartLabels:"lineChartLabels"},{},[]),z=function(){},B=n("+Sv0"),H=function(){};n.d(e,"ChanneldataModuleNgFactory",function(){return $});var $=o["\u0275cmf"](r,[],function(t){return o["\u0275mod"]([o["\u0275mpd"](512,o.ComponentFactoryResolver,o["\u0275CodegenComponentFactoryResolver"],[[8,[i.a,F,j]],[3,o.ComponentFactoryResolver],o.NgModuleRef]),o["\u0275mpd"](4608,h.o,h.n,[o.LOCALE_ID,[2,h.x]]),o["\u0275mpd"](4608,d.t,d.t,[]),o["\u0275mpd"](4608,p,p,[]),o["\u0275mpd"](4608,x,x,[g.c,p]),o["\u0275mpd"](4608,T,T,[g.c,p]),o["\u0275mpd"](4608,O,O,[g.c]),o["\u0275mpd"](1073742336,h.b,h.b,[]),o["\u0275mpd"](1073742336,q.ChartsModule,q.ChartsModule,[]),o["\u0275mpd"](1073742336,P.o,P.o,[[2,P.u],[2,P.l]]),o["\u0275mpd"](1073742336,z,z,[]),o["\u0275mpd"](1073742336,B.a,B.a,[]),o["\u0275mpd"](1073742336,d.q,d.q,[]),o["\u0275mpd"](1073742336,d.g,d.g,[]),o["\u0275mpd"](1073742336,H,H,[]),o["\u0275mpd"](1073742336,D,D,[]),o["\u0275mpd"](1073742336,r,r,[]),o["\u0275mpd"](1024,P.j,function(){return[[{path:":id",component:A}]]},[])])})},OZjf:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("6N4C"),r=n("c4oy");e.default=function(){function t(t){this.root=null,this.compare=t||o.defaultCompare,this.nElements=0}return t.prototype.add=function(t){return!o.isUndefined(t)&&null!==this.insertNode(this.createNode(t))&&(this.nElements++,!0)},t.prototype.clear=function(){this.root=null,this.nElements=0},t.prototype.isEmpty=function(){return 0===this.nElements},t.prototype.size=function(){return this.nElements},t.prototype.contains=function(t){return!o.isUndefined(t)&&null!==this.searchNode(this.root,t)},t.prototype.search=function(t){var e=this.searchNode(this.root,t);if(null!==e)return e.element},t.prototype.remove=function(t){var e=this.searchNode(this.root,t);return null!==e&&(this.removeNode(e),this.nElements--,!0)},t.prototype.inorderTraversal=function(t){this.inorderTraversalAux(this.root,t,{stop:!1})},t.prototype.preorderTraversal=function(t){this.preorderTraversalAux(this.root,t,{stop:!1})},t.prototype.postorderTraversal=function(t){this.postorderTraversalAux(this.root,t,{stop:!1})},t.prototype.levelTraversal=function(t){this.levelTraversalAux(this.root,t)},t.prototype.minimum=function(){if(!this.isEmpty()&&null!==this.root)return this.minimumAux(this.root).element},t.prototype.maximum=function(){if(!this.isEmpty()&&null!==this.root)return this.maximumAux(this.root).element},t.prototype.forEach=function(t){this.inorderTraversal(t)},t.prototype.toArray=function(){var t=[];return this.inorderTraversal(function(e){return t.push(e),!0}),t},t.prototype.height=function(){return this.heightAux(this.root)},t.prototype.searchNode=function(t,e){for(var n=1;null!==t&&0!==n;)(n=this.compare(e,t.element))<0?t=t.leftCh:n>0&&(t=t.rightCh);return t},t.prototype.transplant=function(t,e){null===t.parent?this.root=e:t===t.parent.leftCh?t.parent.leftCh=e:t.parent.rightCh=e,null!==e&&(e.parent=t.parent)},t.prototype.removeNode=function(t){if(null===t.leftCh)this.transplant(t,t.rightCh);else if(null===t.rightCh)this.transplant(t,t.leftCh);else{var e=this.minimumAux(t.rightCh);e.parent!==t&&(this.transplant(e,e.rightCh),e.rightCh=t.rightCh,e.rightCh.parent=e),this.transplant(t,e),e.leftCh=t.leftCh,e.leftCh.parent=e}},t.prototype.inorderTraversalAux=function(t,e,n){null===t||n.stop||(this.inorderTraversalAux(t.leftCh,e,n),n.stop||(n.stop=!1===e(t.element),n.stop||this.inorderTraversalAux(t.rightCh,e,n)))},t.prototype.levelTraversalAux=function(t,e){var n=new r.default;for(null!==t&&n.enqueue(t),t=n.dequeue()||null;null!=t;){if(!1===e(t.element))return;null!==t.leftCh&&n.enqueue(t.leftCh),null!==t.rightCh&&n.enqueue(t.rightCh),t=n.dequeue()||null}},t.prototype.preorderTraversalAux=function(t,e,n){null===t||n.stop||(n.stop=!1===e(t.element),n.stop||(this.preorderTraversalAux(t.leftCh,e,n),n.stop||this.preorderTraversalAux(t.rightCh,e,n)))},t.prototype.postorderTraversalAux=function(t,e,n){null===t||n.stop||(this.postorderTraversalAux(t.leftCh,e,n),n.stop||(this.postorderTraversalAux(t.rightCh,e,n),n.stop||(n.stop=!1===e(t.element))))},t.prototype.minimumAux=function(t){for(;null!=t&&null!==t.leftCh;)t=t.leftCh;return t},t.prototype.maximumAux=function(t){for(;null!=t&&null!==t.rightCh;)t=t.rightCh;return t},t.prototype.heightAux=function(t){return null===t?-1:Math.max(this.heightAux(t.leftCh),this.heightAux(t.rightCh))+1},t.prototype.insertNode=function(t){for(var e=null,n=this.root;null!==n;){var o=this.compare(t.element,n.element);if(0===o)return null;o<0?(e=n,n=n.leftCh):(e=n,n=n.rightCh)}return t.parent=e,null===e?this.root=t:this.compare(t.element,e.element)<0?e.leftCh=t:e.rightCh=t,t},t.prototype.createNode=function(t){return{element:t,leftCh:null,rightCh:null,parent:null}},t}()},RC2R:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("6N4C"),r=n("fxrp"),i=n("Evez");e.default=function(){function t(t,e,n){void 0===n&&(n=!1),this.dict=new r.default(t),this.equalsF=e||o.defaultEquals,this.allowDuplicate=n}return t.prototype.getValue=function(t){var e=this.dict.getValue(t);return o.isUndefined(e)?[]:i.copy(e)},t.prototype.setValue=function(t,e){if(o.isUndefined(t)||o.isUndefined(e))return!1;var n=this.dict.getValue(t);return o.isUndefined(n)?(this.dict.setValue(t,[e]),!0):!(!this.allowDuplicate&&i.contains(n,e,this.equalsF)||(n.push(e),0))},t.prototype.remove=function(t,e){if(o.isUndefined(e)){var n=this.dict.remove(t);return!o.isUndefined(n)}var r=this.dict.getValue(t);return!(o.isUndefined(r)||!i.remove(r,e,this.equalsF)||(0===r.length&&this.dict.remove(t),0))},t.prototype.keys=function(){return this.dict.keys()},t.prototype.values=function(){for(var t=[],e=0,n=this.dict.values();e<n.length;e++)for(var o=0,r=n[e];o<r.length;o++)t.push(r[o]);return t},t.prototype.containsKey=function(t){return this.dict.containsKey(t)},t.prototype.clear=function(){this.dict.clear()},t.prototype.size=function(){return this.dict.size()},t.prototype.isEmpty=function(){return this.dict.isEmpty()},t}()},V3N8:function(t,e,n){"use strict";var o=n("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var r=n("fxrp"),i=n("6N4C"),l=function(){function t(t,e){this.key=t,this.value=e}return t.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},t}(),s=function(){function t(){this.key=null,this.value=null}return t.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},t}();e.default=function(t){function e(e){var n=t.call(this,e)||this;return n.head=new s,n.tail=new s,n.head.next=n.tail,n.tail.prev=n.head,n}return o(e,t),e.prototype.appendToTail=function(t){var e=this.tail.prev;e.next=t,t.prev=e,t.next=this.tail,this.tail.prev=t},e.prototype.getLinkedDictionaryPair=function(t){if(!i.isUndefined(t)){var e="$"+this.toStr(t);return this.table[e]}},e.prototype.getValue=function(t){var e=this.getLinkedDictionaryPair(t);if(!i.isUndefined(e))return e.value},e.prototype.remove=function(e){var n=this.getLinkedDictionaryPair(e);if(!i.isUndefined(n))return t.prototype.remove.call(this,e),n.unlink(),n.value},e.prototype.clear=function(){t.prototype.clear.call(this),this.head.next=this.tail,this.tail.prev=this.head},e.prototype.replace=function(t,e){var n="$"+this.toStr(e.key);e.next=t.next,e.prev=t.prev,this.remove(t.key),e.prev.next=e,e.next.prev=e,this.table[n]=e,++this.nElements},e.prototype.setValue=function(t,e){if(!i.isUndefined(t)&&!i.isUndefined(e)){var n=this.getLinkedDictionaryPair(t),o=new l(t,e),r="$"+this.toStr(t);return i.isUndefined(n)?(this.appendToTail(o),this.table[r]=o,void++this.nElements):(this.replace(n,o),n.value)}},e.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(e)}),t},e.prototype.values=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),t},e.prototype.forEach=function(t){for(var e=this.head.next;null!==e.next;){if(!1===t(e.key,e.value))return;e=e.next}},e}(r.default)},VViT:function(t,e,n){"use strict";var o=n("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var r=n("fxrp"),i=n("6N4C");e.default=function(t){function e(e,n){var o=t.call(this,n)||this;return o.defaultFactoryFunction=e,o}return o(e,t),e.prototype.setDefault=function(e,n){var o=t.prototype.getValue.call(this,e);return i.isUndefined(o)?(this.setValue(e,n),n):o},e.prototype.getValue=function(t){return this.setDefault(t,this.defaultFactoryFunction())},e}(r.default)},c4oy:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("wo+a");e.default=function(){function t(){this.list=new o.default}return t.prototype.enqueue=function(t){return this.list.add(t)},t.prototype.add=function(t){return this.list.add(t)},t.prototype.dequeue=function(){if(0!==this.list.size()){var t=this.list.first();return this.list.removeElementAtIndex(0),t}},t.prototype.peek=function(){if(0!==this.list.size())return this.list.first()},t.prototype.size=function(){return this.list.size()},t.prototype.contains=function(t,e){return this.list.contains(t,e)},t.prototype.isEmpty=function(){return this.list.size()<=0},t.prototype.clear=function(){this.list.clear()},t.prototype.forEach=function(t){this.list.forEach(t)},t}()},fxrp:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("6N4C");e.default=function(){function t(t){this.table={},this.nElements=0,this.toStr=t||o.defaultToString}return t.prototype.getValue=function(t){var e=this.table["$"+this.toStr(t)];if(!o.isUndefined(e))return e.value},t.prototype.setValue=function(t,e){if(!o.isUndefined(t)&&!o.isUndefined(e)){var n,r="$"+this.toStr(t),i=this.table[r];return o.isUndefined(i)?(this.nElements++,n=void 0):n=i.value,this.table[r]={key:t,value:e},n}},t.prototype.remove=function(t){var e="$"+this.toStr(t),n=this.table[e];if(!o.isUndefined(n))return delete this.table[e],this.nElements--,n.value},t.prototype.keys=function(){var t=[];for(var e in this.table)o.has(this.table,e)&&t.push(this.table[e].key);return t},t.prototype.values=function(){var t=[];for(var e in this.table)o.has(this.table,e)&&t.push(this.table[e].value);return t},t.prototype.forEach=function(t){for(var e in this.table)if(o.has(this.table,e)){var n=this.table[e];if(!1===t(n.key,n.value))return}},t.prototype.containsKey=function(t){return!o.isUndefined(this.getValue(t))},t.prototype.clear=function(){this.table={},this.nElements=0},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){var t="{";return this.forEach(function(e,n){t+="\n\t"+e+" : "+n}),t+"\n}"},t}()},"hO+4":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("6N4C"),r=n("Evez");e.default=function(){function t(t){this.data=[],this.compare=t||o.defaultCompare}return t.prototype.leftChildIndex=function(t){return 2*t+1},t.prototype.rightChildIndex=function(t){return 2*t+2},t.prototype.parentIndex=function(t){return Math.floor((t-1)/2)},t.prototype.minIndex=function(t,e){return e>=this.data.length?t>=this.data.length?-1:t:this.compare(this.data[t],this.data[e])<=0?t:e},t.prototype.siftUp=function(t){for(var e=this.parentIndex(t);t>0&&this.compare(this.data[e],this.data[t])>0;)r.swap(this.data,e,t),e=this.parentIndex(t=e)},t.prototype.siftDown=function(t){for(var e=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t));e>=0&&this.compare(this.data[t],this.data[e])>0;)r.swap(this.data,e,t),e=this.minIndex(this.leftChildIndex(t=e),this.rightChildIndex(t))},t.prototype.peek=function(){return this.data.length>0?this.data[0]:void 0},t.prototype.add=function(t){return!o.isUndefined(t)&&(this.data.push(t),this.siftUp(this.data.length-1),!0)},t.prototype.removeRoot=function(){if(this.data.length>0){var t=this.data[0];return this.data[0]=this.data[this.data.length-1],this.data.splice(this.data.length-1,1),this.data.length>0&&this.siftDown(0),t}},t.prototype.contains=function(t){var e=o.compareToEquals(this.compare);return r.contains(this.data,t,e)},t.prototype.size=function(){return this.data.length},t.prototype.isEmpty=function(){return this.data.length<=0},t.prototype.clear=function(){this.data.length=0},t.prototype.forEach=function(t){r.forEach(this.data,t)},t}()},isRC:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("Evez");e.arrays=o;var r=n("wY0b");e.Bag=r.default;var i=n("lKpp");e.BSTree=i.default;var l=n("OZjf");e.BSTreeKV=l.default;var s=n("fxrp");e.Dictionary=s.default;var a=n("hO+4");e.Heap=a.default;var u=n("V3N8");e.LinkedDictionary=u.default;var c=n("wo+a");e.LinkedList=c.default;var d=n("RC2R");e.MultiDictionary=d.default;var h=n("VViT");e.FactoryDictionary=h.default;var f=n("VViT");e.DefaultDictionary=f.default;var p=n("c4oy");e.Queue=p.default;var v=n("09gq");e.PriorityQueue=v.default;var y=n("8F6/");e.Set=y.default;var g=n("tZ3o");e.Stack=g.default;var m=n("sCOH");e.MultiRootTree=m.default;var C=n("6N4C");e.util=C},lKpp:function(t,e,n){"use strict";var o=n("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var r=n("OZjf");e.default=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(r.default)},sCOH:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER",t[t.INSIDE_AT_END=2]="INSIDE_AT_END",t[t.INSIDE_AT_START=3]="INSIDE_AT_START",t}({});e.default=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.rootIds=t,this.nodes=e,this.initRootIds(),this.initNodes()}return t.prototype.initRootIds=function(){for(var t=0,e=this.rootIds;t<e.length;t++)this.createEmptyNodeIfNotExist(e[t])},t.prototype.initNodes=function(){for(var t in this.nodes)if(this.nodes.hasOwnProperty(t))for(var e=0,n=this.nodes[t];e<n.length;e++)this.createEmptyNodeIfNotExist(n[e])},t.prototype.createEmptyNodeIfNotExist=function(t){this.nodes[t]||(this.nodes[t]=[])},t.prototype.getRootIds=function(){return this.rootIds.slice()},t.prototype.getNodes=function(){var t={};for(var e in this.nodes)this.nodes.hasOwnProperty(e)&&(t[e]=this.nodes[e].slice());return t},t.prototype.getObject=function(){return{rootIds:this.getRootIds(),nodes:this.getNodes()}},t.prototype.toObject=function(){return this.getObject()},t.prototype.flatten=function(){for(var t=[],e=0;e<this.rootIds.length;e++){var n=this.rootIds[e];t.push({id:n,level:0,hasParent:!1,childrenCount:0}),s(n,this.nodes,t,0)}for(var o=0,r=t;o<r.length;o++){var i=r[o];i.childrenCount=this.nodes[l=i.id]?this.nodes[l].length:0}var l;return t;function s(t,e,n,o){if(void 0===o&&(o=0),t&&e&&n&&e[t]){o++;for(var r=e[t],i=0;i<r.length;i++){var l=r[i];n.push({id:l,level:o,hasParent:!0}),s(l,e,n,o)}o--}}},t.prototype.moveIdBeforeId=function(t,e){return this.moveId(t,e,o.BEFORE)},t.prototype.moveIdAfterId=function(t,e){return this.moveId(t,e,o.AFTER)},t.prototype.moveIdIntoId=function(t,e,n){return void 0===n&&(n=!0),this.moveId(t,e,n?o.INSIDE_AT_START:o.INSIDE_AT_END)},t.prototype.swapRootIdWithRootId=function(t,e){var n=this.findRootId(t),o=this.findRootId(e);this.swapRootPositionWithRootPosition(n,o)},t.prototype.swapRootPositionWithRootPosition=function(t,e){var n=this.rootIds[e];this.rootIds[e]=this.rootIds[t],this.rootIds[t]=n},t.prototype.deleteId=function(t){this.rootDeleteId(t),this.nodeAndSubNodesDelete(t),this.nodeRefrencesDelete(t)},t.prototype.insertIdBeforeId=function(t,e){var n=this.findRootId(t);for(var o in n>-1&&this.insertIdIntoRoot(e,n),this.nodes)if(this.nodes.hasOwnProperty(o)){var r=this.findNodeId(o,t);r>-1&&this.insertIdIntoNode(o,e,r)}},t.prototype.insertIdAfterId=function(t,e){var n=this.findRootId(t);for(var o in n>-1&&this.insertIdIntoRoot(e,n+1),this.nodes)if(this.nodes.hasOwnProperty(o)){var r=this.findNodeId(o,t);r>-1&&this.insertIdIntoNode(o,e,r+1)}},t.prototype.insertIdIntoId=function(t,e){this.nodeInsertAtEnd(t,e),this.nodes[e]=[]},t.prototype.insertIdIntoRoot=function(t,e){void 0===e?this.rootInsertAtEnd(t):this.rootIds.splice(e<0?e+this.rootIds.length+1:e,0,t),this.nodes[t]=this.nodes[t]||[]},t.prototype.insertIdIntoNode=function(t,e,n){this.nodes[t]=this.nodes[t]||[],this.nodes[e]=this.nodes[e]||[],void 0===n?this.nodeInsertAtEnd(t,e):this.nodes[t].splice(n<0?n+this.nodes[t].length+1:n,0,e)},t.prototype.moveId=function(t,e,n){var r=t,i=this.findRootId(r);for(var l in this.nodes)if(this.nodes.hasOwnProperty(l)){this.findNodeId(l,e);break}var s=e,a=this.findRootId(s);for(var l in this.nodes)if(this.nodes.hasOwnProperty(l)){this.findNodeId(l,e);break}if(i>-1){if(a>-1)switch(this.rootDelete(i),a>i&&a--,n){case o.BEFORE:this.insertIdIntoRoot(r,a);break;case o.AFTER:this.insertIdIntoRoot(r,a+1);break;case o.INSIDE_AT_START:this.nodeInsertAtStart(s,r);break;case o.INSIDE_AT_END:this.nodeInsertAtEnd(s,r)}else for(var l in this.rootDelete(i),this.nodes)if(this.nodes.hasOwnProperty(l)&&(u=this.findNodeId(l,s))>-1){switch(n){case o.BEFORE:this.insertIdIntoNode(l,r,u);break;case o.AFTER:this.insertIdIntoNode(l,r,u+1);break;case o.INSIDE_AT_START:this.nodeInsertAtStart(s,r);break;case o.INSIDE_AT_END:this.nodeInsertAtEnd(s,r)}break}}else if(a>-1){for(var l in this.nodes)if(this.nodes.hasOwnProperty(l)&&(u=this.findNodeId(l,r))>-1){this.nodeDeleteAtIndex(l,u);break}switch(n){case o.BEFORE:this.insertIdIntoRoot(r,a);break;case o.AFTER:this.insertIdIntoRoot(r,a+1);break;case o.INSIDE_AT_START:this.nodeInsertAtStart(s,r);break;case o.INSIDE_AT_END:this.nodeInsertAtEnd(s,r)}}else{for(var l in this.nodes)if(this.nodes.hasOwnProperty(l)&&(u=this.findNodeId(l,r))>-1){this.nodeDeleteAtIndex(l,u);break}for(var l in this.nodes){var u;if(this.nodes.hasOwnProperty(l)&&(u=this.findNodeId(l,s))>-1){switch(n){case o.BEFORE:this.insertIdIntoNode(l,r,u);break;case o.AFTER:this.insertIdIntoNode(l,r,u+1);break;case o.INSIDE_AT_START:this.nodeInsertAtStart(s,r);break;case o.INSIDE_AT_END:this.nodeInsertAtEnd(s,r)}break}}}},t.prototype.swapArrayElements=function(t,e,n){var o=t[e];return t[e]=t[n],t[n]=o,t},t.prototype.rootDeleteId=function(t){var e=this.findRootId(t);e>-1&&this.rootDelete(e)},t.prototype.nodeAndSubNodesDelete=function(t){for(var e=[],n=0;n<this.nodes[t].length;n++)this.nodeAndSubNodesDelete(this.nodes[t][n]),e.push(t);for(this.nodeDelete(t),n=0;n<e.length;n++)this.nodeDelete(e[n])},t.prototype.nodeRefrencesDelete=function(t){for(var e in this.nodes)if(this.nodes.hasOwnProperty(e))for(var n=0;n<this.nodes[e].length;n++)this.nodes[e][n]===t&&this.nodeDeleteAtIndex(e,n)},t.prototype.nodeDelete=function(t){delete this.nodes[t]},t.prototype.findRootId=function(t){return this.rootIds.indexOf(t)},t.prototype.findNodeId=function(t,e){return this.nodes[t].indexOf(e)},t.prototype.findNode=function(t){return this.nodes[t]},t.prototype.nodeInsertAtStart=function(t,e){this.nodes[t].unshift(e)},t.prototype.nodeInsertAtEnd=function(t,e){this.nodes[t].push(e)},t.prototype.rootDelete=function(t){this.rootIds.splice(t,1)},t.prototype.nodeDeleteAtIndex=function(t,e){this.nodes[t].splice(e,1)},t.prototype.rootInsertAtStart=function(t){this.rootIds.unshift(t)},t.prototype.rootInsertAtEnd=function(t){this.rootIds.push(t)},t}()},tZ3o:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("wo+a");e.default=function(){function t(){this.list=new o.default}return t.prototype.push=function(t){return this.list.add(t,0)},t.prototype.add=function(t){return this.list.add(t,0)},t.prototype.pop=function(){return this.list.removeElementAtIndex(0)},t.prototype.peek=function(){return this.list.first()},t.prototype.size=function(){return this.list.size()},t.prototype.contains=function(t,e){return this.list.contains(t,e)},t.prototype.isEmpty=function(){return this.list.isEmpty()},t.prototype.clear=function(){this.list.clear()},t.prototype.forEach=function(t){this.list.forEach(t)},t}()},wY0b:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("6N4C"),r=n("fxrp"),i=n("8F6/");e.default=function(){function t(t){this.toStrF=t||o.defaultToString,this.dictionary=new r.default(this.toStrF),this.nElements=0}return t.prototype.add=function(t,e){return void 0===e&&(e=1),!(o.isUndefined(t)||e<=0||(this.contains(t)?this.dictionary.getValue(t).copies+=e:this.dictionary.setValue(t,{value:t,copies:e}),this.nElements+=e,0))},t.prototype.count=function(t){return this.contains(t)?this.dictionary.getValue(t).copies:0},t.prototype.contains=function(t){return this.dictionary.containsKey(t)},t.prototype.remove=function(t,e){if(void 0===e&&(e=1),o.isUndefined(t)||e<=0)return!1;if(this.contains(t)){var n=this.dictionary.getValue(t);return this.nElements-=e>n.copies?n.copies:e,n.copies-=e,n.copies<=0&&this.dictionary.remove(t),!0}return!1},t.prototype.toArray=function(){for(var t=[],e=0,n=this.dictionary.values();e<n.length;e++)for(var o=n[e],r=o.value,i=o.copies,l=0;l<i;l++)t.push(r);return t},t.prototype.toSet=function(){for(var t=new i.default(this.toStrF),e=0,n=this.dictionary.values();e<n.length;e++)t.add(n[e].value);return t},t.prototype.forEach=function(t){this.dictionary.forEach(function(e,n){for(var o=n.value,r=n.copies,i=0;i<r;i++)if(!1===t(o))return!1;return!0})},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return 0===this.nElements},t.prototype.clear=function(){this.nElements=0,this.dictionary.clear()},t}()},"wo+a":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("6N4C"),r=n("Evez");e.default=function(){function t(){this.firstNode=null,this.lastNode=null,this.nElements=0}return t.prototype.add=function(t,e){if(o.isUndefined(e)&&(e=this.nElements),e<0||e>this.nElements||o.isUndefined(t))return!1;var n=this.createNode(t);if(0===this.nElements||null===this.lastNode)this.firstNode=n,this.lastNode=n;else if(e===this.nElements)this.lastNode.next=n,this.lastNode=n;else if(0===e)n.next=this.firstNode,this.firstNode=n;else{var r=this.nodeAtIndex(e-1);if(null==r)return!1;n.next=r.next,r.next=n}return this.nElements++,!0},t.prototype.first=function(){if(null!==this.firstNode)return this.firstNode.element},t.prototype.last=function(){if(null!==this.lastNode)return this.lastNode.element},t.prototype.elementAtIndex=function(t){var e=this.nodeAtIndex(t);if(null!==e)return e.element},t.prototype.indexOf=function(t,e){var n=e||o.defaultEquals;if(o.isUndefined(t))return-1;for(var r=this.firstNode,i=0;null!==r;){if(n(r.element,t))return i;i++,r=r.next}return-1},t.prototype.contains=function(t,e){return this.indexOf(t,e)>=0},t.prototype.remove=function(t,e){var n=e||o.defaultEquals;if(this.nElements<1||o.isUndefined(t))return!1;for(var r=null,i=this.firstNode;null!==i;){if(n(i.element,t))return null==r?(this.firstNode=i.next,i===this.lastNode&&(this.lastNode=null)):i===this.lastNode?(this.lastNode=r,r.next=i.next,i.next=null):(r.next=i.next,i.next=null),this.nElements--,!0;r=i,i=i.next}return!1},t.prototype.clear=function(){this.firstNode=null,this.lastNode=null,this.nElements=0},t.prototype.equals=function(e,n){var r=n||o.defaultEquals;return e instanceof t&&this.size()===e.size()&&this.equalsAux(this.firstNode,e.firstNode,r)},t.prototype.equalsAux=function(t,e,n){for(;null!==t&&null!==e;){if(!n(t.element,e.element))return!1;t=t.next,e=e.next}return!0},t.prototype.removeElementAtIndex=function(t){if(!(t<0||t>=this.nElements||null===this.firstNode||null===this.lastNode)){var e;if(1===this.nElements)e=this.firstNode.element,this.firstNode=null,this.lastNode=null;else{var n=this.nodeAtIndex(t-1);null===n?(e=this.firstNode.element,this.firstNode=this.firstNode.next):n.next===this.lastNode&&(e=this.lastNode.element,this.lastNode=n),null!==n&&null!==n.next&&(e=n.next.element,n.next=n.next.next)}return this.nElements--,e}},t.prototype.forEach=function(t){for(var e=this.firstNode;null!==e&&!1!==t(e.element);)e=e.next},t.prototype.reverse=function(){for(var t=null,e=this.firstNode,n=null;null!==e;)n=e.next,e.next=t,t=e,e=n;n=this.firstNode,this.firstNode=this.lastNode,this.lastNode=n},t.prototype.toArray=function(){for(var t=[],e=this.firstNode;null!==e;)t.push(e.element),e=e.next;return t},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){return r.toString(this.toArray())},t.prototype.nodeAtIndex=function(t){if(t<0||t>=this.nElements)return null;if(t===this.nElements-1)return this.lastNode;for(var e=this.firstNode,n=0;n<t&&null!=e;n++)e=e.next;return e},t.prototype.createNode=function(t){return{element:t,next:null}},t}()}}]);